1. 地址解析协议(ARP)提供了一种在IPv4地址和以太网地址之间的动态映射。
   需要注意的是，ARP仅用于IPv4，IPv6使用ICMPv6来完成类似的功能。

2. ARP帧格式(不考虑802.1q或其他标记)
    字段名          占用长度    解释
    dst-mac         6Bytes      目的以太网地址，对于ARP请求，该字段为链路层广播地址ff:ff:ff:ff:ff:ff；对于ARP应答，该字段为对应ARP请求报文中的src-mac
    src-mac         6Bytes      源以太网地址
    type            2Bytes      ARP协议号0x0806

    硬件地址类型    2Bytes      对于以太网，该值为1(事实上ARP几乎只会描述以太网类型的硬件地址)
    协议地址类型    2Bytes      对于IPv4，该值位0x0800(同样的，ARP几乎只会描述IPv4类型的协议地址)
    硬件地址长度    1Bytes      以太网地址固定为6字节
    协议地址长度    1Bytes      IPv4地址固定为4字节
    操作码          2Bytes      标识该ARP的具体操作，目前基本只存在ARP请求(1)和ARP应答(2)这两种
        
    源硬件地址      6Bytes      跟src-mac字段内容重复
    源协议地址      4Bytes      通常就是发送方的IPv4地址
    目的硬件地址    6Bytes      对于ARP请求，该字段全0；对于ARP应答，该字段为对应ARP请求报文中的src-mac
    目的协议地址    4Bytes      通常就是目的IPv4地址

3. ARP基本工作流程可以分为两种情况：
    3.1 一种是目标IP地址位于本地(同一IP子网中)的情况，ARP流程如下：
        请求方发出一个携带ARP请求的链路层广播帧;
        同一广播域中的所有主机都会接收到该ARP请求，IP地址不匹配的主机直接丢弃；
        只有IP地址匹配的主机会响应一个ARP应答，这个应答中包含了所请求的IPv4地址以及对应的MAC地址，并且这个ARP应答通常直接是以单播的形式发给请求方；
        同时应答方会学习ARP请求中请求方的IPv4地址和对应的MAC地址，并将这种映射关系记录在其ARP缓存表中；
        最后，ARP应答被请求方接收，将请求到的映射关系记录在其ARP缓存表中。至此两边主机的ARP缓存表中都有了对方的ARP表项

        
